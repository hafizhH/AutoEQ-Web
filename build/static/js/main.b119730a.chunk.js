(this["webpackJsonpautoeq-web"]=this["webpackJsonpautoeq-web"]||[]).push([[0],{0:function(e,t,a){e.exports={hidden:"styles_hidden__3oSLG",block:"styles_block__1jko7",header1L:"styles_header1L__1xb9l",header1:"styles_header1__2NlEr",header2:"styles_header2__A2iuS",header3:"styles_header3__xMF3f",page:"styles_page__1vup_",pageContainer:"styles_pageContainer__2Zdul",centerBlock:"styles_centerBlock__cjsQJ",textInput:"styles_textInput__3eUfj",textInput2:"styles_textInput2__1foDA",button:"styles_button__3KCwL",switchLabel:"styles_switchLabel__2T0he",switchCheckbox:"styles_switchCheckbox__Zfo8_",switchSlider:"styles_switchSlider__3xMD-",switchSliderContent1:"styles_switchSliderContent1__j5373",switchSliderContent2:"styles_switchSliderContent2__2nqXW",switchSliderContent3:"styles_switchSliderContent3__3Gl60",switchSliderContent4:"styles_switchSliderContent4__3OcoB",popupPanel:"styles_popupPanel__21kk4",text1:"styles_text1__2DjVu",text1sp:"styles_text1sp__2Kisi",text2:"styles_text2__4PAbV",blueText:"styles_blueText__1T_Yk",link:"styles_link__4EfG-",ulist:"styles_ulist__1j_ho",ulistItem:"styles_ulistItem__3hZ0n",ulistItemSelected:"styles_ulistItemSelected__3gC5f",dropdown:"styles_dropdown__3gNFI",dropdownItem:"styles_dropdownItem__Evs1B",imgGraph3x4:"styles_imgGraph3x4__GZo6X",imgGraph2x3:"styles_imgGraph2x3__16e-8",navigate:"styles_navigate__3BGlo",floatLeft:"styles_floatLeft__2ueDx",floatRight:"styles_floatRight__3btXJ",addHMargin:"styles_addHMargin__3vRjK",addVMargin:"styles_addVMargin__2rlQT",addVMargin2:"styles_addVMargin2__2jN34",noTextDecoration:"styles_noTextDecoration__1bFqH"}},44:function(e,t,a){},46:function(e,t,a){},47:function(e,t,a){"use strict";a.r(t);var s=a(2),c=a(19),n=a.n(c),o=a(3),r=a(4),l=a.n(r),i=(a(44),a(0)),u=a.n(i),g=a(1);function m(e){return Object(g.jsxs)("div",{id:"main-container",children:[Object(g.jsxs)("h1",{className:"".concat(u.a.header1L," ").concat(u.a.centerBlock," ").concat(u.a.addVMargin2),children:["AutoEQ-",Object(g.jsx)("span",{className:u.a.blueText,children:"Web"})]}),Object(g.jsxs)("h3",{className:"".concat(u.a.header3," ").concat(u.a.centerBlock," ").concat(u.a.addVMargin2),children:["Original AutoEQ code by ",Object(g.jsx)("a",{href:"https://github.com/jaakkopasanen/AutoEq",className:u.a.link,children:"Jaakko Pasanen"})]}),e.childComponent]})}a(46);var d=a(20),j=a.n(d);function b(e){var t=Object(s.useState)(""),a=Object(o.a)(t,2),c=a[0],n=a[1];Object(s.useEffect)((function(){var e=sessionStorage.getItem("presetName");null!=e&&n(e)}),[]),Object(s.useEffect)((function(){sessionStorage.setItem("presetName",c.toString()),sessionStorage.setItem("csrftoken",j.a.get("csrftoken")),sessionStorage.setItem("maxGain",6),sessionStorage.setItem("bassBoost",0),sessionStorage.setItem("tilt",0),sessionStorage.setItem("trebleMaxGain",6),sessionStorage.setItem("trebleGainCoef",1),sessionStorage.setItem("trebleTransFreqStart",6e3),sessionStorage.setItem("trebleTransFreqEnd",8e3),sessionStorage.setItem("geq",1),sessionStorage.setItem("peq",0),sessionStorage.setItem("ceq",0),sessionStorage.setItem("feq",0),sessionStorage.setItem("maxFilters","5+5"),sessionStorage.setItem("samplingRate",48e3),sessionStorage.setItem("frequency","31.25,62.5,125,250,500,1000,2000,4000,8000,16000"),sessionStorage.setItem("freqQ","1.41"),l.a.get("getKey").then((function(e){sessionStorage.setItem("skey",e.data.skey)}))}),[c]);return Object(g.jsxs)("div",{id:"home",className:u.a.page,children:[Object(g.jsxs)("div",{className:"".concat(u.a.centerBlock," ").concat(u.a.pageContainer),children:[Object(g.jsx)("label",{htmlFor:"presetName",className:"".concat(u.a.text1," ").concat(u.a.centerBlock," ").concat(u.a.addVMargin),children:"Name a Preset"}),Object(g.jsx)("input",{type:"text",id:"presetName",className:"".concat(u.a.textInput," ").concat(u.a.addVMargin),defaultValue:c,onChange:function(e){return n(e.target.value)}}),Object(g.jsx)("br",{})]}),Object(g.jsx)("div",{className:u.a.navigate,children:Object(g.jsx)("button",{className:"".concat(u.a.button," ").concat(u.a.centerBlock),onClick:function(){return t="SelectMeasurement",void(""!==sessionStorage.getItem("presetName")?e.changePage(t):alert("Please input preset name"));var t},children:"Get Started"})})]})}function h(e){var t=Object(s.useState)("No file selected"),a=Object(o.a)(t,2),c=a[0],n=a[1],r=Object(s.useState)(""),i=Object(o.a)(r,2),m=(i[0],i[1]);return Object(g.jsxs)("div",{id:"select-measurement",className:u.a.page,children:[Object(g.jsxs)("div",{className:u.a.pageContainer,children:[Object(g.jsx)("button",{className:"".concat(u.a.centerBlock," ").concat(u.a.button," ").concat(u.a.addVMargin),onClick:function(){sessionStorage.setItem("inputMeasurementMode","Select"),e.changePage("SelectSource")},children:"Choose Measurement"}),Object(g.jsx)("span",{className:"".concat(u.a.centerBlock," ").concat(u.a.text1),children:"or"}),Object(g.jsx)("label",{htmlFor:"measurementCSV",className:"".concat(u.a.centerBlock," ").concat(u.a.button," ").concat(u.a.addVMargin),children:"Upload CSV"}),Object(g.jsxs)("form",{enctype:"multipart/form-data",onSubmit:function(t){t.preventDefault();var a=new FormData(t.target);a.append("presetName",sessionStorage.getItem("presetName")),a.append("skey",sessionStorage.getItem("skey")),m("Uploading to server"),l()({method:"post",url:"uploadmeasurement",data:a,headers:{"Content-Type":"multipart/form-data","X-CSRFToken":sessionStorage.getItem("csrftoken")}}).then((function(t){200===t.status&&(sessionStorage.setItem("customCSVFileName",c),sessionStorage.setItem("measureGraphURL",t.data.imgurl),sessionStorage.setItem("inputMeasurementMode","Custom"),e.changePage("ChooseTarget"),m("Upload success"))})).catch((function(e){console.log(e.message),m("Error occured while uploading to server")}))},className:u.a.centerBlock,children:[Object(g.jsx)("input",{type:"file",id:"measurementCSV",className:u.a.hidden,name:"measurementCSV",accept:".csv",onChange:function(e){n(e.target.files[0].name)}}),Object(g.jsx)("span",{className:u.a.text1,children:c}),Object(g.jsx)("button",{className:"".concat(u.a.button," ").concat(u.a.centerBlock," ").concat("No file selected"===c?u.a.hidden:""),children:"Submit"})]}),Object(g.jsx)("br",{}),Object(g.jsx)("br",{})]}),Object(g.jsx)("div",{className:u.a.navigate,children:Object(g.jsx)("button",{className:"".concat(u.a.button," ").concat(u.a.centerBlock),onClick:function(){return e.changePage("Home")},children:"Back"})})]})}var p=["headphonecom","innerfidelity","oratory1990"];function x(e){var t=Object(s.useState)([]),a=Object(o.a)(t,2),c=a[0],n=a[1],r=Object(s.useState)(""),i=Object(o.a)(r,2),m=i[0],d=i[1];Object(s.useEffect)((function(){l.a.get("getDirSource").then((function(e){200===e.status&&n(e.data.sourcelist)})).catch((function(e){console.log(e.message),n(p)}));var e=sessionStorage.getItem("selSource");null!==e&&d(e)}),[]),Object(s.useEffect)((function(){sessionStorage.setItem("selSource",m)}),[m]);return Object(g.jsxs)("div",{id:"select-source",className:u.a.page,children:[Object(g.jsxs)("div",{className:"".concat(u.a.pageContainer),children:[Object(g.jsx)("span",{className:"".concat(u.a.header2," ").concat(u.a.centerBlock),children:"Select Measurement Source"}),Object(g.jsx)("ul",{className:"".concat(u.a.ulist),children:c.map((function(e,t){return Object(g.jsx)("li",{className:"".concat(u.a.ulistItem," ").concat(e===m?u.a.ulistItemSelected:""),onClick:function(){return d(c[t])},children:e},t)}))})]}),Object(g.jsxs)("div",{className:u.a.navigate,children:[Object(g.jsx)("button",{className:"".concat(u.a.button," ").concat(u.a.floatLeft),onClick:function(){return e.changePage("SelectMeasurement")},children:"Back"}),Object(g.jsx)("button",{className:"".concat(u.a.button," ").concat(u.a.floatRight),onClick:function(){return t="SelectType",void(""!==sessionStorage.getItem("selSource")?e.changePage(t):alert("Please select measurement source"));var t},children:"Continue"})]})]})}var O=["earbud","inear","onear"];function S(e){var t=Object(s.useState)(""),a=Object(o.a)(t,2),c=a[0],n=a[1];Object(s.useEffect)((function(){var e=sessionStorage.getItem("selType");null!==e&&n(e)}),[]),Object(s.useEffect)((function(){sessionStorage.setItem("selType",c)}),[c]);return Object(g.jsxs)("div",{id:"select-type",className:u.a.page,children:[Object(g.jsxs)("div",{className:u.a.pageContainer,children:[Object(g.jsx)("span",{className:u.a.header2,children:"Select Device Type"}),Object(g.jsx)("ul",{className:u.a.ulist,children:O.map((function(e,t){return Object(g.jsx)("li",{className:"".concat(u.a.ulistItem," ").concat(e===c?u.a.ulistItemSelected:""),onClick:function(){return n(e)},children:e},t)}))})]}),Object(g.jsxs)("div",{className:u.a.navigate,children:[Object(g.jsx)("button",{className:"".concat(u.a.button," ").concat(u.a.floatLeft),onClick:function(){return e.changePage("SelectSource")},children:"Back"}),Object(g.jsx)("button",{className:"".concat(u.a.button," ").concat(u.a.floatRight),onClick:function(){return t="SelectModel",void(""!==sessionStorage.getItem("selType")?e.changePage(t):alert("Please select device type"));var t},children:"Continue"})]})]})}var f=["AKG K240","AKG K250","AKG K271"];function N(e){var t=Object(s.useState)([]),a=Object(o.a)(t,2),c=a[0],n=a[1],r=Object(s.useState)(""),i=Object(o.a)(r,2),m=i[0],d=i[1],j=Object(s.useState)(""),b=Object(o.a)(j,2),h=(b[0],b[1]);Object(s.useEffect)((function(){var e=sessionStorage.getItem("selSource");l.a.get("getDirData/"+e).then((function(e){if(200===e.status){var t=sessionStorage.getItem("selType");"earbud"===t?n(e.data.earbud):"inear"===t?n(e.data.inear):"onear"===t&&n(e.data.onear)}})).catch((function(e){console.log(e.message),n(f)}));var t=sessionStorage.getItem("selModel");null!=t&&d(t)}),[]),Object(s.useEffect)((function(){sessionStorage.setItem("selModel",m)}),[m]);return Object(g.jsxs)("div",{id:"select-model",className:u.a.page,children:[Object(g.jsxs)("div",{className:u.a.pageContainer,children:[Object(g.jsx)("span",{className:u.a.header2,children:"Select Device Model"}),Object(g.jsx)("ul",{className:u.a.ulist,children:c.map((function(e,t){return Object(g.jsx)("li",{className:"".concat(u.a.ulistItem," ").concat(e===m?u.a.ulistItemSelected:""),onClick:function(){return d(e)},children:e},t)}))})]}),Object(g.jsxs)("div",{className:u.a.navigate,children:[Object(g.jsx)("button",{className:"".concat(u.a.button," ").concat(u.a.floatLeft),onClick:function(){return e.changePage("SelectType")},children:"Back"}),Object(g.jsx)("button",{className:"".concat(u.a.button," ").concat(u.a.floatRight),onClick:function(){return function(t){var a=sessionStorage.getItem("selSource"),s=sessionStorage.getItem("selType"),c=sessionStorage.getItem("selModel");""!==c?(h("Uploading to server"),l.a.post("updateData",{source:a,type:s,model:c,skey:sessionStorage.getItem("skey"),presetName:sessionStorage.getItem("presetName")},{headers:{"X-CSRFToken":sessionStorage.getItem("csrftoken")}}).then((function(a){200===a.status&&(sessionStorage.setItem("measureGraphURL",a.data.imgurl),h("Upload Success"),console.log("choose success"),e.changePage(t))})).catch((function(a){console.log(a.message),h("Error occured while uploading to server"),e.changePage(t)}))):alert("Please select model")}("ChooseTarget")},children:"Continue"})]})]})}var v=a(21);function I(e){var t=Object(s.useState)([]),a=Object(o.a)(t,2),c=a[0],n=a[1],r=Object(s.useState)(" "),i=Object(o.a)(r,2),m=i[0],d=i[1],j=Object(s.useState)("No file selected"),b=Object(o.a)(j,2),h=b[0],p=b[1],x=Object(s.useState)(""),O=Object(o.a)(x,2),S=O[0],f=O[1],N=Object(s.useState)("MEDIA/default.png"),I=Object(o.a)(N,2),_=I[0],k=I[1],C=Object(s.useState)(""),y=Object(o.a)(C,2),M=y[0],q=y[1];Object(s.useEffect)((function(){q(sessionStorage.getItem("measureGraphURL"));var e=sessionStorage.getItem("selTarget");null!=e&&d(e);var t=sessionStorage.getItem("targetFileName");null!=t&&p(t),l.a.get("targetList").then((function(e){200===e.status&&(n([" "].concat(Object(v.a)(e.data.targetList))),d(" "))})).catch((function(e){return console.log(e.message)}))}),[]);return Object(g.jsxs)("div",{id:"choose-target",className:u.a.page,children:[Object(g.jsxs)("div",{className:u.a.pageContainer,children:[Object(g.jsxs)("div",{className:"".concat(u.a.floatLeft," ").concat(u.a.addHMargin),children:[Object(g.jsx)("img",{id:"measure-graph",alt:"measure-graph",src:M,className:u.a.imgGraph3x4}),Object(g.jsx)("span",{className:"".concat(u.a.header2," ").concat(u.a.centerBlock," ").concat(u.a.addVMargin),children:"Measurement"})]}),Object(g.jsxs)("div",{className:"".concat(u.a.floatRight," ").concat(u.a.addHMargin),children:[Object(g.jsx)("img",{id:"target-graph",alt:"target-graph",src:_,className:u.a.imgGraph3x4}),Object(g.jsx)("span",{className:"".concat(u.a.header2," ").concat(u.a.centerBlock," ").concat(u.a.addVMargin),children:"Target"}),Object(g.jsx)("select",{id:"target",name:"target",className:"".concat(u.a.dropdown," ").concat(u.a.text2),defaultValue:m,onChange:function(e){" "!==e.target.value?l.a.post("uploadClientData",{target:e.target.value,presetName:sessionStorage.getItem("presetName"),skey:sessionStorage.getItem("skey")},{headers:{"X-CSRFToken":sessionStorage.getItem("csrftoken")}}).then((function(t){200===t.status&&(sessionStorage.setItem("selTarget",e.target.value),sessionStorage.setItem("targetFileName","No file selected"),sessionStorage.setItem("targetGraphURL",t.data.imgurl),k(t.data.imgurl),d(e.target.value),p("No file selected"),f("Success"))})).catch((function(e){return console.log(e.message)})):f("")},children:c.map((function(e,t){return Object(g.jsx)("option",{className:"".concat(u.a.text2),value:e,children:e},t)}))}),Object(g.jsx)("br",{}),Object(g.jsx)("span",{className:"".concat(u.a.text1," ").concat(u.a.centerBlock," ").concat(u.a.addVMargin),children:"or"}),Object(g.jsxs)("form",{enctype:"multipart/form-data",onSubmit:function(e){e.preventDefault();var t=new FormData(e.target);t.append("skey",sessionStorage.getItem("skey")),t.append("presetName",sessionStorage.getItem("presetName")),l()({method:"post",url:"uploadCustomTarget",data:t,headers:{"Content-Type":"multipart/form-data","X-CSRFToken":sessionStorage.getItem("csrftoken")}}).then((function(t){200===t.status&&(sessionStorage.setItem("selTarget",""),sessionStorage.setItem("targetFileName",e.target.files[0].name),sessionStorage.setItem("targetGraphURL",t.data.imgurl),k(t.data.imgurl),p(e.target.files[0].name),d(""),f("Success"))})).catch((function(e){return console.log(e.message)}))},className:u.a.centerBlock,children:[Object(g.jsx)("label",{htmlFor:"targetCSV",className:"".concat(u.a.button," ").concat(u.a.centerBlock),children:"Upload"}),Object(g.jsx)("input",{type:"file",id:"targetCSV",className:u.a.hidden,name:"targetCSV",accept:".csv",onChange:function(e){return p(e.target.value)}}),Object(g.jsx)("span",{className:"".concat(u.a.text1," ").concat(u.a.centerBlock," ").concat(u.a.addVMargin),children:h}),Object(g.jsx)("button",{className:"".concat(u.a.button," ").concat(u.a.centerBlock," ").concat("No file selected"===h?u.a.hidden:""),children:"Submit"})]}),Object(g.jsx)("br",{})]})]}),Object(g.jsxs)("div",{className:u.a.navigate,children:[Object(g.jsx)("button",{className:"".concat(u.a.button," ").concat(u.a.floatLeft),onClick:function(t){"Custom"===sessionStorage.getItem("inputMeasurementMode")?e.changePage("SelectMeasurement"):"Select"===sessionStorage.getItem("inputMeasurementMode")&&e.changePage("SelectModel")},children:"Back"}),Object(g.jsx)("button",{className:"".concat(u.a.button," ").concat(u.a.floatRight),onClick:function(){return t="Customize",void("Success"===S?e.changePage(t):alert("Please input target measurement"));var t},children:"Continue"})]})]})}function _(e){var t=Object(s.useState)("No file selected"),a=Object(o.a)(t,2),c=a[0],n=a[1],r=Object(s.useState)(6),i=Object(o.a)(r,2),m=i[0],d=i[1],j=Object(s.useState)(0),b=Object(o.a)(j,2),h=b[0],p=b[1],x=Object(s.useState)(0),O=Object(o.a)(x,2),S=O[0],f=O[1],N=Object(s.useState)(6),v=Object(o.a)(N,2),I=v[0],_=v[1],k=Object(s.useState)(1),C=Object(o.a)(k,2),y=C[0],M=C[1],q=Object(s.useState)(6e3),w=Object(o.a)(q,2),T=w[0],F=w[1],V=Object(s.useState)(8e3),B=Object(o.a)(V,2),G=B[0],E=B[1],P=Object(s.useState)(1),L=Object(o.a)(P,2),R=L[0],D=L[1],Q=Object(s.useState)(0),U=Object(o.a)(Q,2),H=U[0],A=U[1],K=Object(s.useState)(0),X=Object(o.a)(K,2),z=X[0],J=X[1],Z=Object(s.useState)(0),W=Object(o.a)(Z,2),Y=W[0],$=W[1],ee=Object(s.useState)("5+5"),te=Object(o.a)(ee,2),ae=te[0],se=te[1],ce=Object(s.useState)(48e3),ne=Object(o.a)(ce,2),oe=ne[0],re=ne[1],le=Object(s.useState)("31.25,62.5,125,250,500,1000,2000,4000,8000,16000"),ie=Object(o.a)(le,2),ue=ie[0],ge=ie[1],me=Object(s.useState)("1.41"),de=Object(o.a)(me,2),je=de[0],be=de[1],he=Object(s.useState)(""),pe=Object(o.a)(he,2),xe=(pe[0],pe[1]),Oe=Object(s.useState)(""),Se=Object(o.a)(Oe,2),fe=Se[0],Ne=Se[1],ve=function(e){!0===e.target.checked?"geq"===e.target.value?D(1):"peq"===e.target.value?A(1):"ceq"===e.target.value?J(1):"feq"===e.target.value&&$(1):!1===e.target.checked&&("geq"===e.target.value?D(0):"peq"===e.target.value?A(0):"ceq"===e.target.value?J(0):"feq"===e.target.value&&$(0))};Object(s.useEffect)((function(){var e=sessionStorage.getItem("file");null!=e&&n(e);var t=sessionStorage.getItem("maxGain");null!=t&&d(Number.parseFloat(t));var a=sessionStorage.getItem("bassBoost");null!=a&&p(Number.parseFloat(a));var s=sessionStorage.getItem("tilt");null!=s&&f(Number.parseFloat(s));var c=sessionStorage.getItem("trebleMaxGain");null!=c&&_(Number.parseFloat(c));var o=sessionStorage.getItem("trebleGainCoef");null!=o&&M(Number.parseFloat(o));var r=sessionStorage.getItem("trebleTransFreqStart");null!=r&&F(Number.parseInt(r));var i=sessionStorage.getItem("trebleTransFreqEnd");null!=i&&E(Number.parseInt(i));var u=sessionStorage.getItem("geq");null!=u&&D(Number.parseInt(u));var g=sessionStorage.getItem("peq");null!=g&&A(Number.parseInt(g));var m=sessionStorage.getItem("ceq");null!=m&&J(Number.parseInt(m));var j=sessionStorage.getItem("feq");null!=j&&$(Number.parseInt(j));var b=sessionStorage.getItem("maxFilters");null!=b&&se(b);var h=sessionStorage.getItem("samplingRate");null!=h&&re(Number.parseInt(h));var x=sessionStorage.getItem("frequency");null!=x&&ge(x);var O=sessionStorage.getItem("freqQ");null!=O&&be(O),l.a.post("getCustomizePreviewGraph",{skey:sessionStorage.getItem("skey"),presetName:sessionStorage.getItem("presetName")},{headers:{"X-CSRFToken":sessionStorage.getItem("csrftoken")}}).then((function(e){200===e.status&&sessionStorage.setItem("previewGraphURL",e.data.imgurl),Ne(e.data.imgurl)})).catch((function(e){return console.log(e.message)})),console.log("Item retrieved")}),[]),Object(s.useEffect)((function(){sessionStorage.setItem("file",c),sessionStorage.setItem("maxGain",m.toString()),sessionStorage.setItem("bassBoost",h.toString()),sessionStorage.setItem("tilt",S.toString()),sessionStorage.setItem("trebleMaxGain",I.toString()),sessionStorage.setItem("trebleGainCoef",y.toString()),sessionStorage.setItem("trebleTransFreqStart",T.toString()),sessionStorage.setItem("trebleTransFreqStart",T.toString()),sessionStorage.setItem("geq",R.toString()),sessionStorage.setItem("peq",H.toString()),sessionStorage.setItem("ceq",z.toString()),sessionStorage.setItem("feq",Y.toString()),sessionStorage.setItem("maxFilters",ae.toString()),sessionStorage.setItem("samplingRate",oe.toString()),sessionStorage.setItem("frequency",ue),sessionStorage.setItem("freqQ",je),console.log("Item saved")}),[c,m,h,S,I,y,T,G,R,H,z,Y,ae,oe,ue,je]);var Ie=function(e,t,a,s){var c=e.target.value;return""===c?c=0:"string"===typeof c&&(c=s?Number.parseFloat(c):Number.parseInt(c),s||(e.target.value=c)),c>a?(e.target.value=a,a):c<t?(e.target.value=t,t):c};return Object(g.jsxs)("div",{id:"customize",className:u.a.page,children:[Object(g.jsxs)("div",{className:u.a.pageContainer,children:[Object(g.jsx)("div",{className:"".concat(u.a.floatLeft," ").concat(u.a.addHMargin),children:Object(g.jsx)("img",{id:"preview-graph",src:fe,alt:"preview-graph",className:u.a.imgGraph2x3})}),Object(g.jsxs)("div",{className:"".concat(u.a.floatRight," ").concat(u.a.addHMargin),children:[Object(g.jsxs)("div",{className:u.a.addVMargin,children:[Object(g.jsx)("span",{className:"".concat(u.a.header2," ").concat(u.a.addVMargin),children:"Customize"}),Object(g.jsx)("span",{className:u.a.text1,children:"Max Gain (dB)"}),Object(g.jsx)("input",{type:"number",id:"max-gain",className:"".concat(u.a.textInput2),min:"-20.0",max:"20.0",step:"0.1",defaultValue:m,onChange:function(e){return d(Ie(e,-20,20,!0))}}),Object(g.jsx)("br",{}),Object(g.jsx)("span",{className:u.a.text1,children:"Bass boost (dB)"}),Object(g.jsx)("input",{type:"number",id:"bass-boost",className:"".concat(u.a.textInput2),min:"-20.0",max:"20.0",step:"0.1",defaultValue:h,onChange:function(e){return p(Ie(e,-20,20,!0))}}),Object(g.jsx)("br",{}),Object(g.jsx)("span",{className:u.a.text1,children:"Tilt (dB)"}),Object(g.jsx)("input",{type:"number",id:"tilt",className:"".concat(u.a.textInput2),min:"-5.0",max:"5.0",step:"0.1",defaultValue:S,onChange:function(e){return f(Ie(e,-5,5,!0))}}),Object(g.jsx)("br",{}),Object(g.jsx)("span",{className:u.a.text1,children:"Treble Max Gain (dB)"}),Object(g.jsx)("input",{type:"number",id:"treble-max-gain",className:"".concat(u.a.textInput2),min:"-20.0",max:"20.0",step:"0.1",defaultValue:I,onChange:function(e){return _(Ie(e,-20,20,!0))}}),Object(g.jsx)("br",{}),Object(g.jsx)("span",{className:u.a.text1,children:"Treble Gain Coefficient"}),Object(g.jsx)("input",{type:"number",id:"treble-gain-coef",className:"".concat(u.a.textInput2),min:"-5.0",max:"5.0",step:"0.1",defaultValue:y,onChange:function(e){return M(Ie(e,-5,5,!0))}}),Object(g.jsx)("br",{}),Object(g.jsx)("span",{className:u.a.text1,children:"Treble Transition Frequencies Start (Hz)"}),Object(g.jsx)("input",{type:"number",id:"treble-trans-freqstart",className:"".concat(u.a.textInput2),min:"20",max:"20000",step:"10",defaultValue:T,onChange:function(e){return F(Ie(e,20,2e4,!1))}}),Object(g.jsx)("br",{}),Object(g.jsx)("span",{className:u.a.text1,children:"Treble Transition Frequencies End (Hz)"}),Object(g.jsx)("input",{type:"number",id:"treble-trans-freqend",className:"".concat(u.a.textInput2),min:"20",max:"20000",step:"10",defaultValue:G,onChange:function(e){return E(Ie(e,20,2e4,!1))}}),Object(g.jsx)("br",{}),Object(g.jsx)("span",{className:u.a.text1,children:"Sound Signature"}),Object(g.jsxs)("form",{enctype:"multipart/form-data",onSubmit:function(e){e.preventDefault();var t=new FormData(e.target);t.append("skey",sessionStorage.getItem("skey")),t.append("presetName",sessionStorage.getItem("presetName")),xe("Uploading to server"),l()({method:"post",url:"uploadsoundsig",data:t,headers:{"Content-Type":"multipart/form-data","X-CSRFToken":sessionStorage.getItem("csrftoken")}}).then((function(e){200===e.status&&xe("Upload success")})).catch((function(e){console.log(e.message),xe("Error occured while uploading to server")}))},className:u.a.centerBlock,children:[Object(g.jsx)("label",{htmlFor:"soundSignature",className:"".concat(u.a.button," ").concat(u.a.addVMargin),children:"Upload CSV"}),Object(g.jsx)("input",{type:"file",id:"soundSignature",className:u.a.hidden,name:"soundSignature",accept:".csv",onChange:function(e){return n(e.target.files[0].name)}}),Object(g.jsx)("span",{className:"".concat(u.a.text1," ").concat(u.a.addVMargin),children:c}),Object(g.jsx)("button",{className:"".concat(u.a.button," ").concat(u.a.centerBlock," ").concat("No file selected"===c?u.a.hidden:""),children:"Submit"})]}),Object(g.jsx)("br",{}),Object(g.jsx)("br",{})]}),Object(g.jsx)("br",{}),Object(g.jsxs)("div",{className:u.a.addVMargin,children:[Object(g.jsx)("span",{className:"".concat(u.a.header2," ").concat(u.a.addVMargin),children:"Output Options"}),Object(g.jsx)("br",{}),Object(g.jsxs)("label",{htmlFor:"graphicEQ",className:"".concat(u.a.text1," ").concat(u.a.switchLabel),children:[Object(g.jsx)("input",{type:"checkbox",id:"graphicEQ",className:u.a.switchCheckbox,name:"graphicEQ",value:"geq",disabled:"disabled",checked:!0,onChange:ve}),Object(g.jsx)("span",{className:"".concat(u.a.switchSlider," ").concat(u.a.switchSliderContent1)})]}),Object(g.jsx)("br",{}),Object(g.jsx)("br",{}),Object(g.jsxs)("label",{htmlFor:"parametricEQ",className:"".concat(u.a.text1," ").concat(u.a.switchLabel),children:[Object(g.jsx)("input",{type:"checkbox",id:"parametricEQ",className:u.a.switchCheckbox,name:"parametricEQ",value:"peq",checked:1===H||null,onChange:ve}),Object(g.jsx)("span",{className:"".concat(u.a.switchSlider," ").concat(u.a.switchSliderContent2)})]}),Object(g.jsxs)("div",{className:0===H?u.a.hidden:"".concat(u.a.popupPanel," ").concat(u.a.addVMargin," "),children:[Object(g.jsx)("span",{className:u.a.text1,children:"Max filters"}),Object(g.jsx)("input",{type:"text",id:"max-filters",className:"".concat(u.a.textInput),min:"1",max:"64",step:"1",defaultValue:ae,onChange:function(e){return se(e.target.value)}})]}),Object(g.jsx)("br",{}),Object(g.jsx)("br",{}),Object(g.jsxs)("label",{htmlFor:"convolutionEQ",className:"".concat(u.a.text1," ").concat(u.a.switchLabel),children:[Object(g.jsx)("input",{type:"checkbox",id:"convolutionEQ",className:u.a.switchCheckbox,name:"convolutionEQ",value:"ceq",checked:1===z||null,onChange:ve}),Object(g.jsx)("span",{className:"".concat(u.a.switchSlider," ").concat(u.a.switchSliderContent3)})]}),Object(g.jsxs)("div",{className:0===z?u.a.hidden:"".concat(u.a.popupPanel," ").concat(u.a.addVMargin," "),children:[Object(g.jsx)("span",{className:u.a.text1,children:"Sampling rate"}),Object(g.jsxs)("select",{name:"sampling-rate",className:"".concat(u.a.dropdown," ").concat(u.a.text2),defaultValue:oe,onChange:function(e){return re(e.target.value)},children:[Object(g.jsx)("option",{value:"44100",children:"44100"}),Object(g.jsx)("option",{value:"48000",children:"48000"})]})]}),Object(g.jsx)("br",{}),Object(g.jsx)("br",{}),Object(g.jsxs)("label",{htmlFor:"fixedEQ",className:"".concat(u.a.text1," ").concat(u.a.switchLabel),children:[Object(g.jsx)("input",{type:"checkbox",id:"fixedEQ",className:u.a.switchCheckbox,name:"fixedEQ",value:"feq",checked:1===Y||null,onChange:ve}),Object(g.jsx)("span",{className:"".concat(u.a.switchSlider," ").concat(u.a.switchSliderContent4)})]}),Object(g.jsxs)("div",{className:0===Y?u.a.hidden:"".concat(u.a.popupPanel," ").concat(u.a.addVMargin," "),children:[Object(g.jsx)("span",{className:"".concat(u.a.text1," ").concat(u.a.block),children:"Frequency"}),Object(g.jsx)("input",{type:"text",id:"frequency",className:"".concat(u.a.textInput),defaultValue:ue,onChange:function(e){return ge(e.target.value)}}),Object(g.jsx)("span",{className:"".concat(u.a.text1," ").concat(u.a.block),children:"Q"}),Object(g.jsx)("input",{type:"text",id:"freqQ",className:"".concat(u.a.textInput),defaultValue:je,onChange:function(e){return be(e.target.value)}})]}),Object(g.jsx)("br",{}),Object(g.jsx)("br",{})]})]})]}),Object(g.jsxs)("div",{className:u.a.navigate,children:[Object(g.jsx)("button",{className:"".concat(u.a.button," ").concat(u.a.floatLeft),onClick:function(){return e.changePage("ChooseTarget")},children:"Back"}),Object(g.jsx)("button",{className:"".concat(u.a.button," ").concat(u.a.floatRight),onClick:function(){return t="FinalPage",xe("Uploading to server"),void l.a.post("submitcustomization",{maxGain:m,bassBoost:h,tilt:S,trebleMaxGain:I,trebleGainCoef:y,trebleTransFreqStart:T,trebleTransFreqEnd:G,geq:1,peq:H,ceq:z,feq:Y,maxFilters:1===H?ae:-1,samplingRate:1===z?oe:-1,frequency:1===Y?ue:"",freqQ:1===Y?je:"",presetName:sessionStorage.getItem("presetName"),skey:sessionStorage.getItem("skey")},{headers:{"X-CSRFToken":sessionStorage.getItem("csrftoken")}}).then((function(a){200===a.status&&(sessionStorage.setItem("finalGraphURL",a.data.imgurl),sessionStorage.setItem("downloadURL",a.data.downloadurl),xe("Upload Success"),e.changePage(t))})).catch((function(e){console.log(e.message),xe("Error occured while uploading to server")}));var t},children:"Continue"})]})]})}function k(e){var t=Object(s.useState)(""),a=Object(o.a)(t,2),c=a[0],n=a[1],r=Object(s.useState)(""),l=Object(o.a)(r,2),i=l[0],m=l[1],d=Object(s.useState)(""),j=Object(o.a)(d,2),b=j[0],h=j[1];return Object(s.useEffect)((function(){n(sessionStorage.getItem("presetName")),m(sessionStorage.getItem("finalGraphURL")),h(sessionStorage.getItem("downloadURL"))}),[]),Object(g.jsxs)("div",{id:"final-page",className:u.a.page,children:[Object(g.jsxs)("div",{className:"".concat(u.a.centerBlock," ").concat(u.a.pageContainer),children:[Object(g.jsx)("div",{className:"".concat(u.a.centerBlock," ").concat(u.a.addHMargin),children:Object(g.jsx)("img",{id:"final-graph",src:i,alt:"final-graph",className:u.a.imgGraph2x3})}),Object(g.jsx)("span",{className:"".concat(u.a.text1," ").concat(u.a.centerBlock," ").concat(u.a.addVMargin),children:c}),Object(g.jsx)("br",{})]}),Object(g.jsx)("div",{className:u.a.navigate,children:Object(g.jsx)("a",{href:b,className:"".concat(u.a.button," ").concat(u.a.centerBlock," ").concat(u.a.noTextDecoration),children:"Download"})})]})}function C(){var e=Object(s.useState)("Home"),t=Object(o.a)(e,2),a=t[0],c=t[1],n=function(e){c(e)},r=null;return"Home"===a?r=Object(g.jsx)(b,{changePage:n}):"SelectMeasurement"===a?r=Object(g.jsx)(h,{changePage:n}):"SelectSource"===a?r=Object(g.jsx)(x,{changePage:n}):"SelectType"===a?r=Object(g.jsx)(S,{changePage:n}):"SelectModel"===a?r=Object(g.jsx)(N,{changePage:n}):"ChooseTarget"===a?r=Object(g.jsx)(I,{changePage:n}):"Customize"===a?r=Object(g.jsx)(_,{changePage:n}):"FinalPage"===a&&(r=Object(g.jsx)(k,{changePage:n})),Object(g.jsx)(m,{childComponent:r})}n.a.render(Object(g.jsx)(C,{}),document.getElementById("root"))}},[[47,1,2]]]);
//# sourceMappingURL=main.b119730a.chunk.js.map